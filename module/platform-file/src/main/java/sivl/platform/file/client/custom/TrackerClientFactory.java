package sivl.platform.file.client.custom;import java.io.IOException;import org.apache.commons.pool2.KeyedPooledObjectFactory;import org.apache.commons.pool2.PooledObject;import org.apache.commons.pool2.impl.DefaultPooledObject;import sivl.platform.file.client.FileClientConfig;/** * TrackerClient工厂类 * 目的： * @author lixuefeng * @date 2016年1月7日 * @version 1.0 */public class TrackerClientFactory implements KeyedPooledObjectFactory<String,TrackerClient> {		private Integer connectTimeout = FileClientConfig.DEFAULT_CONNECT_TIMEOUT * 1000;	private Integer networkTimeout = FileClientConfig.DEFAULT_NETWORK_TIMEOUT * 1000;	public TrackerClientFactory() {			}		/**	 * 构造工厂	 * @param connectTimeout 连接时间（秒为单位）	 * @param networkTimeout	 */	public TrackerClientFactory(int connectTimeout, int networkTimeout) {		this.connectTimeout = connectTimeout*1000;		this.networkTimeout = networkTimeout*1000;	}	@Override	public PooledObject<TrackerClient> makeObject(String key){		TrackerClient trackerClient = new TrackerClientImpl(key,connectTimeout,networkTimeout);		PooledObject<TrackerClient> pooledTrackerClient = new DefaultPooledObject<TrackerClient>(trackerClient);		return pooledTrackerClient;	}	@Override	public void destroyObject(String key, PooledObject<TrackerClient> pooledTrackerClient) throws IOException{		TrackerClient trackerClient = pooledTrackerClient.getObject();		trackerClient.close();	}	@Override	public boolean validateObject(String key, PooledObject<TrackerClient> p) {		// TODO Auto-generated method stub		return true;	}	@Override	public void activateObject(String key, PooledObject<TrackerClient> p)			throws Exception {		// TODO Auto-generated method stub			}	@Override	public void passivateObject(String key, PooledObject<TrackerClient> p)			throws Exception {		// TODO Auto-generated method stub			}		}